import os

from aiogram.enums import ParseMode, ContentType
from aiogram_dialog import Window, Dialog
from aiogram_dialog.widgets.kbd import Cancel, Row, Start, Next
from aiogram_dialog.widgets.media import StaticMedia
from aiogram_dialog.widgets.text import Const, Jinja

from states import QuestMenu

main_dialog = Dialog(
    Window(
        StaticMedia(
            path=os.path.abspath(os.path.curdir) + '/files/images/quest_dialog/quest_theme.jpg',
            type=ContentType.PHOTO,
        ),
        Jinja(
            f'–ü—Ä–∏–≤–µ—Ç, –¥–æ—Ä–æ–≥–æ–π —É—á–∞—Å—Ç–Ω–∏–∫!\n\n'
            '–ù–∞—Å—Ç—É–ø–∏–ª –ø–µ—Ä–≤—ã–π –¥–µ–Ω—å –ï–≤—Ä–∞–∑–∏–π—Å–∫–æ–≥–æ –æ—Ä—Ç–æ–ø–µ–¥–∏—á–µ—Å–∫–æ–≥–æ —Ñ–æ—Ä—É–º–∞ - —Å–∞–º–æ–µ\n'
            '–¥–æ–ª–≥–æ–∂–¥–∞–Ω–Ω–æ–µ —Å–æ–±—ã—Ç–∏–µ —ç—Ç–æ–≥–æ –≥–æ–¥–∞. –ê –∑–Ω–∞—á–∏—Ç, –Ω–∞—Å—Ç–∞–ª–æ –≤—Ä–µ–º—è –æ—Ç–ø—Ä–∞–≤–ª—è—Ç—å—Å—è –≤ \n'
            '–ø—É—Ç–µ—à–µ—Å—Ç–≤–∏–µ –ø–æ —É–≤–ª–µ–∫–∞—Ç–µ–ª—å–Ω–æ–º—É —Ç—Ä–∞–≤–º–∞—Ç–æ–ª–æ–≥–∏—á–µ—Å–∫–æ–º—É –∫–≤–µ—Å—Ç—É ¬´–ï–û–§¬ª:\n'
            '¬∑ –ø–æ—Å–µ—Ç–∏—Ç—å —Å—Ç–µ–Ω–¥—ã –ø–∞—Ä—Ç–Ω–µ—Ä–æ–≤ –§–æ—Ä—É–º–∞\n'
            '¬∑ –ø–æ–ª—É—á–∏—Ç—å –º–Ω–æ–≥–æ –ø–æ–ª–µ–∑–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏\n'
            '¬∑ –Ω–∞–π—Ç–∏ –æ—Ç–≤–µ—Ç—ã –Ω–∞ –≤—Å–µ –≤–æ–ø—Ä–æ—Å—ã\n'
            '¬∑ –ø–æ–ª—É—á–∏—Ç—å –º–∏–Ω–∏-–ø—Ä–∏–∑—ã –æ—Ç –ø–∞—Ä—Ç–Ω–µ—Ä–æ–≤ –§–æ—Ä—É–º–∞ –Ω–∞ –ø–∞–º—è—Ç—å –æ–± —ç—Ç–æ–º –¥–Ω–µ!\n\n'
            '–ú—ã –ø—Ä–µ–¥–ª–∞–≥–∞–µ–º –∏–¥—Ç–∏ –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ –∏ –≤ –æ–±—â–µ–º —Ç–µ–º–ø–µ: –ø–µ—Ä–µ–¥–≤–∏–≥–∞—Ç—å—Å—è –ø–æ\n'
            '—É–∫–∞–∑–∞–Ω–Ω—ã–º —Å—Ç–∞–Ω—Ü–∏—è–º, –≤—ã–ø–æ–ª–Ω—è—Ç—å –º–∏–Ω–∏-–∑–∞–¥–∞–Ω–∏—è –∏ –ø–æ–ª—É—á–∞—Ç—å –ø–æ–¥–∞—Ä–∫–∏. –¢–∞–∫ –±—É–¥–µ—Ç\n'
            '–∏–Ω—Ç–µ—Ä–µ—Å–Ω–µ–µ –∏ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∏–≤–Ω–µ–µ!\n\n'
            '–ù–æ! –ï—Å–ª–∏ –≤–∞–º —Ö–æ—á–µ—Ç—Å—è, –≤—Å–µ–≥–¥–∞ –º–æ–∂–Ω–æ –ø—Ä–æ–ø—É—Å—Ç–∏—Ç—å —Ç–æ—á–∫—É –∏ –ø–µ—Ä–µ–π—Ç–∏ –∫ —Ç–æ–π\n'
            '—Å—Ç–∞–Ω—Ü–∏–∏, –∫–æ—Ç–æ—Ä–∞—è –≤–∞–º –±—É–¥–µ—Ç –±–æ–ª–µ–µ –∏–Ω—Ç–µ—Ä–µ—Å–Ω–∞. –í—Å–µ —Ç–æ–ª—å–∫–æ –ø–æ –≤–∞—à–µ–º—É –∂–µ–ª–∞–Ω–∏—é.\n'
            '–ï—Å–ª–∏ –≥–æ—Ç–æ–≤—ã, —Ç–æ –ø–æ—Ä–∞ –Ω–∞—á–∏–Ω–∞—Ç—å!\n'
        ),
        Row(
            Next(Const("üìã–ù–∞—á–∞—Ç—å"), id="start_quest"),
        ),
        Row(
            Cancel(Const("–ù–∞—á–Ω—É –ø–æ–∑–∂–µ"), id="skip_quest"),
        ),
        Cancel(Const('–ù–∞–∑–∞–¥')),
        state=QuestMenu.main_menu,
        parse_mode=ParseMode.HTML,
    ),
    Window(
        Jinja(f'–ü–µ—Ä–≤–æ–µ –∑–∞–¥–∞–Ω–∏–µ'),
        Row(Next(Const("–ó–∞–¥–∞–Ω–∏–µ –≤—ã–ø–æ–ª–Ω–∏–ª(–∞)")), Next(Const('–ü–µ—Ä–µ–π—Ç–∏ –∫ –¥—Ä—É–≥–æ–π —Å—Ç–∞–Ω—Ü–∏–∏'))),
        state=QuestMenu.task_1,
        parse_mode=ParseMode.HTML,
    ),
    Window(
        Jinja(f'–í—Ç–æ—Ä–æ–µ –∑–∞–¥–∞–Ω–∏–µ'),
        Row(Next(Const("–ó–∞–¥–∞–Ω–∏–µ –≤—ã–ø–æ–ª–Ω–∏–ª(–∞)")), Next(Const('–ü–µ—Ä–µ–π—Ç–∏ –∫ –¥—Ä—É–≥–æ–π —Å—Ç–∞–Ω—Ü–∏–∏'))),
        state=QuestMenu.task_2,
        parse_mode=ParseMode.HTML,
    ),
    Window(
        Jinja(f'–¢—Ä–µ—Ç—å–µ –∑–∞–¥–∞–Ω–∏–µ'),
        Row(Next(Const("–ó–∞–¥–∞–Ω–∏–µ –≤—ã–ø–æ–ª–Ω–∏–ª(–∞)")), Next(Const('–ü–µ—Ä–µ–π—Ç–∏ –∫ –¥—Ä—É–≥–æ–π —Å—Ç–∞–Ω—Ü–∏–∏'))),
        state=QuestMenu.task_3,
        parse_mode=ParseMode.HTML,
    ),
    Window(
        Jinja(f'–ß–µ—Ç–≤–µ—Ä—Ç–æ–µ –∑–∞–¥–∞–Ω–∏–µ'),
        Row(Next(Const("–ó–∞–¥–∞–Ω–∏–µ –≤—ã–ø–æ–ª–Ω–∏–ª(–∞)")), Next(Const('–ü–µ—Ä–µ–π—Ç–∏ –∫ –¥—Ä—É–≥–æ–π —Å—Ç–∞–Ω—Ü–∏–∏'))),
        state=QuestMenu.task_4,
        parse_mode=ParseMode.HTML,
    ),
    Window(
        Jinja(f'–ü—è—Ç–æ–µ –∑–∞–¥–∞–Ω–∏–µ'),
        Row(Next(Const("–ó–∞–¥–∞–Ω–∏–µ –≤—ã–ø–æ–ª–Ω–∏–ª(–∞)")), Next(Const('–ü–µ—Ä–µ–π—Ç–∏ –∫ –¥—Ä—É–≥–æ–π —Å—Ç–∞–Ω—Ü–∏–∏'))),
        state=QuestMenu.task_5,
        parse_mode=ParseMode.HTML,
    ),
    Window(
        Jinja(
            f'–ü–æ–∑–¥—Ä–∞–≤–ª—è–µ–º, –≤—ã –ø—Ä–æ—à–ª–∏ –Ω–µ–ø—Ä–æ—Å—Ç–æ–π –ø—É—Ç—å –∏ –Ω–∞–∫–æ–Ω–µ—Ü-—Ç–æ –ø–æ—Å–µ—Ç–∏–ª–∏ –ø–æ—Å–ª–µ–¥–Ω—é—é\n'
            f'—Å—Ç–∞–Ω—Ü–∏—é. –ú—ã –≤–æ—Å—Ö–∏—â–∞–µ–º—Å—è –≤–∞—à–µ–π —Å–æ–æ–±—Ä–∞–∑–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å—é, –ª–æ–≤–∫–æ—Å—Ç—å—é –∏ \n'
            f'—É–ø–æ—Ä—Å—Ç–≤–æ–º - —Ç–∞–∫–∏–µ –∫–∞—á–µ—Å—Ç–≤–∞ –ø—Ä–∏—Å—É—â–∏ —Ç–æ–ª—å–∫–æ –Ω–∞—Å—Ç–æ—è—â–∏–º –ø—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª–∞–º\n'
            f'—Å–≤–æ–µ–≥–æ –¥–µ–ª–∞!\n\n'
            f'–ù–∞–¥–µ–µ–º—Å—è, –≤—ã –ø–æ–ª—É—á–∏–ª–∏ –º–Ω–æ–≥–æ –ø–æ–ª–æ–∂–∏—Ç–µ–ª—å–Ω—ã—Ö —ç–º–æ—Ü–∏–π –∏ —Ç–µ–ø–µ—Ä—å –Ω–∞ –ø–ª–æ—â–∞–¥–∫–µ \n'
            f'–±—É–¥–µ—Ç –ª–µ–≥—á–µ –æ—Ä–∏–µ–Ω—Ç–∏—Ä–æ–≤–∞—Ç—å—Å—è. –î–æ –≤—Å—Ç—Ä–µ—á–∏ –≤ 2027 –≥–æ–¥—É!\n'
        ),
        Row(Cancel(Const('–ì–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é'))),
        state=QuestMenu.finish,
        parse_mode=ParseMode.HTML,
    ),
    on_process_result=QuestMenu.main_menu,

)